# 06-dddmall-ddd-framework-core



## 1 CommandHandler接口设计

### 1.1 泛型支持

通过泛型 `<T, R>`，`CommandHandler` 接口支持不同类型的命令请求和响应，增加了代码的复用性和灵活性。这种设计允许开发者定义多种处理逻辑，而不必为每种命令实现单独的接口。

```java
public interface CommandHandler<T, R> {
    R handler(T requestParam);
}
```

### 1.2 解耦合

`CommandHandler` 接口作为命令处理的统一入口，有助于解耦命令的发送者和接收者。命令发送者只需知道有一个能处理该命令的接口即可，无需关心具体的处理逻辑，从而降低系统各部分之间的耦合度。

### 1.3 易于扩展

随业务发展，可能会增加更多的命令类型。`CommandHandler` 接口使得添加新的命令处理器变得简单，只需实现该接口即可。这种设计支持开闭原则，对扩展开放，对修改封闭。

### 1.4 业务考量



1. **业务流程抽象**：`CommandHandler` 接口抽象了业务操作的执行流程，每个实现类代表一个具体的业务操作。这种设计使得业务逻辑更加清晰，每个业务操作都有明确的界定，便于理解和维护。

2. **事务控制**：在实现 `CommandHandler` 接口的类中，可以很方便地添加事务控制逻辑。这意味着业务操作的执行可以保证数据的一致性和完整性，对于保障系统的稳定性和可靠性至关重要。

3. **权限验证**：`CommandHandler` 接口的实现类也可以用于进行权限验证。在处理命令之前，可以检查用户是否有执行该命令的权限，从而确保系统的安全性。