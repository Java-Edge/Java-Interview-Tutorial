# 00-Go微服务网关专栏概述

## 0 前言

别再用培训机构烂大街的项目啦！
【简历项目经验】还在用培训机构烂大街的项目？怪不得你收不到面试邀请了~~

你打开简历，然后仔细想想是不是这么回事？

【毕业设计项目】还在用千篇一律的烂大街项目？怪不得你论文查重过不去了~~

你打开毕设，然后认真想想是不是这么回事？

本专栏绝对是妳拿下女朋友，征服丈母娘，征战人生的必杀技~~(QAQ,嘴角上扬 45°）

- [项目体验地址](http://gateway.itpp.cn:9527/#/)
- [项目思维导图](https://naotu.baidu.com/file/0abcf68f3bd03964a63c8c35b44d681d?token=864a35c5e3647e34)

- [项目配套电子书 wiki](https://github.com/Java-Edge/gateway_demo)
-  [前端github](https://github.com/Java-Edge/go_gateway_view)
- [后端github](https://github.com/Java-Edge/go_gateway)


## 1 专栏概述

**一句话**：不讲虚的只来干的，GO 微服务网关，真香。

### 为什么要学Go微服务网关

亿级流量的网站架构中，网关是一个核心。作为一个后端开发者来说掌握网关技术，重要性不言而喻。golang借助本身高并发的优势，更加适合企业级高效开发网关。

主要分为两大部分：

- 构建积木，网关技术是由诸多散落小点构成，我们三部分的讲解：网络基础知识（比如：tcp 拥塞控制、为何粘包如何拆包等），让网络中的难点不再疑惑、核心内容网络代理（http、https、tcp、websocket、grpc），不仅会讲解网络代理如何使用，还要会源码解析网络代理原理、围绕网络代理拓展功能（中间件、流量控制、权限认证、熔断降级、负载均衡等）有了这些知识点就等同于驾驭了网关
- 积木拼装部分，用我们构建好的积木（网关基础）去完整一个微服务管理系统，让大家把学习到的知识点落实到项目中，我们每节专栏内容都会辅以图片和完整实例帮助学员理解。

## 2 能学到啥？

### 后端架构

后端架构网关技术是必备的，golang 开发《Go 微服务网关》是首推的。Go 在开发效率及并发性能上都是首屈一指的。通过学习《Go 微服务网关》，可以帮助大家快速提高网络编程基础，提高大家对高并发、高可用、微服务架构的理解。

### 对网关技术感兴趣

《Go 微服务网关》包含了网关技术核心知识点。会从底层原理基础到代码核心实践讲解：http、https、tcp、websocket、grpc 多种协议内容。以及限流、降级等多种高可用手段。

通过学习《Go 微服务网关》，你不再需要阅读 nginx 高深源代码去研究网关技术了，而是能从核心原理去理解网关的本质。

## 3 核心知识



1. 网关领域的网络基础

2. http反向代理实现原理

3. 中间件功能实现

4. 服务限流

5. 服务熔断降级

6. 服务权限验证

7. 服务流量统计

8. websocket反向代理实现原理

9. https反向代理实现原理

10. tcp反向代理实现原理

11. grpc反向代理实现原理

12. 服务发现及注册中心实现原理

13. grpc基本使用方法

14. thrift基本使用方法

15. JWT基本使用方法

16. zookeeper基本使用方法

17. 前端 vue-element-admin的基本使用方法

18. 如何快速搭建前端开发项目

19. 企业项目的开发流程

20. 如何构建 VUE高可用性组件

21. 如何快速搭建后端开发项目

22. gin_scaffold基本使用方法

## 4 大纲

### 1 拒绝培训机构烂大街项目，冲刺 Offer 首选【Vue+Go,稀缺组合，赶快上车！】

你是否遇到这样问题？投递很多简历，总是石沉大海大海,杳无音信？经过分析很多小伙伴的简历，大多采用了培训机构烂大街项目作为项目经验，导致无缘面试邀约。本专栏就为你解决这个燃眉之急。同时，Vue 很火，Vue+Go 的结合早日学成，早日挑大梁！

#### 1-1 摒弃千篇一律项目，选我：前后端一体化微服务网关项目

### 第 2 章 扫盲网关前置技术：必备网络基础【夯实基础，所向披靡！】

扫盲网关前置技术，掌握必备网络基础，以【原理插图+脑图+示例代理】相结合的方式，主要讲解 OSI 七层网络协议、经典协议与数据包、tcp 粘包拆包及 udp、tcp、http 等代码编写。轻松领略到网络编程快感。

#### 2-1 跬步千里 - 为什么要学习网络基础【有目的学习，事半功倍】

#### 2-2 天下无双 - 经典协议与数据包

#### 2-3 眉目传情 - tcpdump 抓包分析三次握手和四次挥手

#### 2-4 依依惜别 - 为啥 time_wait 需要等待 2msl?

#### 2-5 节流开源 - 图解为啥需要流量控制

#### 2-6 一人荷戟 - 如何调整网络负载

#### 2-7 比屋连甍 - 解开粘包、拆包谜团

#### 2-8 各行其是 - 自定义消息格式实现装包与拆包

#### 2-9 刀枪剑戟 - udp 实现原来如此简单

#### 2-10 刀枪剑戟 - 玩转 tcp 服务器

#### 2-11 刀枪剑戟 - 忘记关闭连接会怎么样?

#### 2-12 刀枪剑戟 - http Server 与 Client【常用必学!!! 】

#### 2-13 知其所以 - 脑图精讲 http Server 源码

#### 2-14 知其所以 - 脑图精讲 http Client 源码

#### 2-15 刀枪剑戟 - RoundTripper 连接上下游的纽带

#### 2-16 刀枪剑戟 - 超详情的 http 超时控制

#### 2-17 抛砖引玉 - 网络基础章节总结

### 第 3 章 网络代理之 HTTP 代理\*基础篇【nginx 高大上功能，用 go 实现起来很 easy】

http 代理的重要性不言而喻，本章节就解锁以下核心功能：多种负载均衡策略、url_rewrite 重写支持策略随性定、代理内容替换：针对特殊状态值统一特殊返回值、连接池。

#### 3-1 纵观全貌 - 脑图展示网关代理知识体系

#### 3-2 刨根问底 - 代理和转发不是一回事

#### 3-3 正道坦途 - 手把手开发一个浏览器代理 1

#### 3-4 正道坦途 - 手把手开发一个浏览器代理 2

#### 3-5 返璞归真 - 反向代理原来如此

#### 3-6 精准打击 - http 代理大纲

#### 3-7 神兵利器 - ReverseProxy 无坚不摧

#### 3-8 移形换步 - 返回内容随心改 1

#### 3-9 移形换步 - 返回内容随心改 2

#### 3-10 温故知新 - 带你实现 X-Forward-For、X-Real-Ip

#### 3-11 一针见血 - 脑图精讲 ReverseProxy 源码分析

#### 3-12 随机而变 - 随机负载均衡

#### 3-13 有条不紊 - 轮询负载均衡

#### 3-14 近水楼台 - 加权轮询负载均衡

#### 3-15 添砖加瓦 - 给代理插上负载均衡的翅膀

### 第 4 章 网络代理制 HTTP 代理\*进阶篇【此处高能，适用于装逼！】

本章节将给大家带来高可用技术：限流、熔断、降级。核心功能点：漏桶限流、令牌桶限流、实例展示限流的实际效果、学习熔断与降级原理、介绍 hystrix-go 和 hystrixdashboard 的原理及使用方法。

#### 4-1 有的放矢 - 中间件的洋葱结构

#### 4-2 有的放矢 - 手把手开发一个中间件

#### 4-3 开源节流 - 并发限速的意义

#### 4-4 开源节流 - time rate 限速器 简洁不简单

#### 4-5 开源节流 - 给代理插上限流的翅膀

#### 4-6 过载保护 - 微服务的断电保护 - 熔断与降级

#### 4-7 过载保护 - hystrix-go 实现熔断

### 第 5 章 实时通讯 websocket+安全加密 https【向 nubility 出发~】

本章将会给大家带来：websocket 协议及原理、一体化构建 websocket 测试流程、websocket 代理实现、一章读懂 https 和 http2 和 http1.1 之间区别、以及自定义证书及 http2 代理服务器实现。

#### 5-1 风驰电掣 - 图解 websocket 协议

#### 5-2 添砖加瓦 - websocket 代理如此简单

#### 5-3 严守秘密 - 一章读懂 https、http2、http1.1 之间区别

#### 5-4 添砖加瓦 - 给代理传输加个密

### 第 6 章 四层 tcp 代理 【兼顾上层协议】

无所不能的 tcp 代理，只要底层是 tcp 的协议就能用的上，且可对单独协议格式做精细化管控。好东西赶快加入学习吧。本章将深入理解四层代理与七层代理的区别、手把手教你开发一个 tcp 代理、tcp 代理测试 thrift、redis、http、websocket、https。

#### 6-1 精准打击 - 四层代理与七层代理的区别

#### 6-2 精准打击 - 手把手教你开发一个 tcp 代理

#### 6-3 精准打击 - thrift 服务代理

#### 6-4 精准打击 - redis 服务代理

#### 6-5 添砖加瓦 - 怎么能少了中间件

### 第 7 章 支持炫酷的 grpc 透明代理【不依赖 IDL】

grpc 凭着多路复用、流式数据传输等优势，大公司都在争相使用。grpc 代理不同于 tcp代理，需要更多管控手段。本章 N 多精彩内容：grpc 协议分析、使用 gpc-gateway 让服务支持 http 功能、拓展负载均衡、支持中间件了就等同于支持了限流、熔断、降级。 ...

### 第 8 章 网关拓展服务发现功能【认清技术本质】

还在被“注册中心”、“服务发现”、“主动探测”这些讳莫如深的技术所困扰吗？ 本章一一撕开这些概念面纱，认清它们技术本质。本章 N 多精彩内容：服务发现原理与实现、主动探测原理与实现、zookeeper 基本知识科普、注册中心的原理与实现。

### 第 9 章 项目实战：开发环境准备【Vue+Go 组合，全网稀缺！】

学以致用才是有用的东西，开始规划我们的项目了 我们会采用标准企业级开发流程跟大家好好唠唠如何开发一个项目。之前的体验项目:<http://gateway.itpp.cn:9527/#/> 就当产品原型了。 本章节将给大家代理 N 多精彩内容：从产品原型出发拆分功能点、针对功能点把我们的思考整理到脑图中、了解功能评审流程、功能开发流程、前...

### 第 10 章 项目实战之后台管理后端功能【天下武功，唯快不破】

本章节精彩内容有：基于功能点创建 SQL、使用 gin_scaffold 搭建后台脚手架、swagger接口文档自动生成、架构分层设计、接口开发思想、以及用户、服务、租户业务接口功能。

### 第 11 章 项目实战：后台管理功能之前端功能【Vue+Go，早日学成，早挑大梁】

所谓技多不压身，废话不多说，身为一个后端学完本章节后，你就能自己手撸后台管理系统页面了。本章精彩内容有：了解 vue-element-admin 脚手架功能、快速创建 CURD 功能、快速创建 VUE 组件、接入 echart 支持高大上图表展示。

### 第 13 章 项目实战之基于 JWT 构建多租户版开放平台【跨语言、跨域】

借助 JWT 跨语言、跨域的特性。用户可以以极低成本接入网关，我们可以针对单个租户做不通过策略限制：流量、权限、统计分析等等 本章节精彩内容有：构建获取 token 接口、中间件校验用户传递的 token 信息、构建基于租户的流控、统计中间件等。